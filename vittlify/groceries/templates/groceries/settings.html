{% extends "groceries/home.html" %}

<!DOCTYPE html>
{% load staticfiles %}
{% load url from future %}

{% block header %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Grocery lists in the cloud!">
    <meta name="author" content="Kevin Yokley">
    <link rel="shortcut icon" type="image/png" href="{% static "assets/favicon.ico" %}"/>
    <link href="{% static "bootstrap-dist/css/bootstrap.css" %}" rel="stylesheet">
    <link href="{% static "bootstrap-dist/css/bootstrap-theme.css" %}" rel="stylesheet">
    <link href="{% static "datatables/dataTables.bootstrap.min.css" %}" rel="stylesheet">
    <link href="{% static "assets/home.css" %}" rel="stylesheet">
    <link href="{% static "bootstrap-duallistbox-master/bootstrap-duallistbox.min.css" %}" rel="stylesheet">
{% endblock %}

{% include title %}

{% include navbar %}


{% block main %}
<div class="page-header">
  <h1>Settings</h1>
</div>
<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Your lists</h3>
  </div>
  <div class="panel-body">
      <div class="row">
          <div class="col-xs-12 col-md-7">
              <div class="form-group">
                <select id="owned-lists-select" name="owned-lists" size="5" class="form-control">
                    {% for owned_list in owned_lists %}
                        <option>{{ owned_list.name }}</option>
                    {% endfor %}
                </select>
              </div>
              <div class="form-group">
                <button id="delete-list-btn" class="btn btn-default">Delete</button>
              </div>
          </div>
          <div class="col-xs-12 col-md-5">
              <div class="form-group">
                    <label for="new-list-name">Add new list:</label>
                    <input type="text" class="form-control" id="new-list-name">
              </div>
              <div class="form-group">
                    <button id="add-list-btn" class="btn btn-default">Add</button>
              </div>
          </div>
      </div>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Sharing</h3>
  </div>
  <div class="panel-body">
      <div class="form-group">
        <select id="shopper-select" class="form-control">
            {% for shopper in shoppers %}
                <option id="user-select-{{ shopper.user.id }}">{{ shopper.user.username }}</option>
            {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <select multiple id="sharing-select" size="5" class="form-control">
            {% for owned_list in owned_lists %}
                <option>{{ owned_list.name }}</option>
            {% endfor %}
        </select>
      </div>
  </div>
</div>
{% endblock %}

{% block javascript_imports %}
    <script src="{% static "jquery/jquery-2.1.4.min.js" %}"></script>
    <script src="{% static "bootstrap-dist/js/bootstrap.min.js" %}"></script>
    <script src="{% static "datatables/jquery.dataTables.min.js" %}"></script>
    <script src="{% static "datatables/dataTables.bootstrap.min.js" %}"></script>
    <script src="{% static "assets/settings.js" %}"></script>
    <script src="{% static "bootstrap-duallistbox-master/jquery.bootstrap-duallistbox.min.js" %}"></script>
{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        $(document).ready(function(){
            token = '{{ csrf_token }}';

            var sharing_select = $('#sharing-select').bootstrapDualListbox({
              nonSelectedListLabel: 'Available Lists',
              selectedListLabel: 'Shared',
              preserveSelectionOnMove: false,
              moveOnSelect: true,
              showFilterInputs: false
            });
        });
    </script>
{% endblock %}
